# DATABASE_VIEW_INTELLIGENCE_CATALOG.md Validation Report

## Validation Metadata

**Date:** 2026-01-19  
**Validator:** Automated Script (validate-view-documentation.sh)  
**Source Schema:** service.data.impl/src/main/resources/full_schema.sql  
**Documentation File:** DATABASE_VIEW_INTELLIGENCE_CATALOG.md  
**Validation Method:** Automated comparison script  
**Repository:** Hack23/cia

---

## Executive Summary

This validation report confirms the current status of view documentation coverage.

### Current Status

| Metric | Value | Status |
|--------|-------|--------|
| **Total views in database** | 107 | ‚úì Confirmed |
| **Total views documented** | 100 | ‚úÖ Excellent |
| **Documentation coverage** | 93.46% | ‚ö†Ô∏è In Progress |
| **Views missing from documentation** | 7 | ‚ùå Action Required |
| **Views documented but not in DB** | 0 | ‚úÖ None |

### Severity Assessment

üü¢ **GOOD**: Documentation provides **93.46% coverage** for 107 database views.


### Progress Since Previous Validation (2026-01-19)

| Metric | Previous (2026-01-19) | Current (2026-01-19) | Improvement |
|--------|----------------------|---------------------|-------------|
| **Total views in database** | 82 | 107 | +25 |
| **Total views documented** | 9 | 100 | +91 views |
| **Documentation coverage** | 10.98% | 93.46% | +82.48% |
| **Views missing from documentation** | 73 | 7 | -66 views |


---

## Missing Views

The following 7 views are in the schema but missing from documentation:

### Other Views

- `view_riksdagen_election_proximity_trends`
- `view_riksdagen_politician_career_path_10level`
- `view_riksdagen_pre_election_quarterly_activity`
- `view_riksdagen_q4_election_year_comparison`
- `view_riksdagen_seasonal_activity_patterns`
- `view_riksdagen_seasonal_anomaly_detection`
- `view_riksdagen_seasonal_quarterly_activity`


---

## Next Steps

### Immediate Actions

1. **Document Missing Views**: Add documentation for 7 missing views
2. **Prioritize High-Value Views**: Focus on vote data summary views (high intelligence value)
3. **Complete Low-Priority Views**: Document application event tracking views
4. **Re-run Validation**: Execute this script again to verify completion

### Documentation Standards

Each view should include:
- ‚úì Purpose statement
- ‚úì Key columns table
- ‚úì At least 2 example queries
- ‚úì Intelligence value rating
- ‚úì Performance characteristics
- ‚úì Dependencies


---

## Validation Methodology

### Automated Process

This validation is performed by `validate-view-documentation.sh`:

1. **Extract Schema Views**: Parse full_schema.sql for CREATE VIEW statements
2. **Extract Documented Views**: Parse DATABASE_VIEW_INTELLIGENCE_CATALOG.md for view headers
3. **Compare Sets**: Identify missing and extra views using set operations
4. **Calculate Coverage**: Compute percentage of documented views
5. **Generate Report**: Create this markdown report with findings

### Commands Executed

```bash
# Extract views from schema
grep -E "^CREATE (OR REPLACE )?(MATERIALIZED )?VIEW" full_schema.sql | \
  sed 's/.*VIEW //' | sed 's/ AS.*//' | sed 's/public\.//' | sort | uniq

# Extract documented views
grep -E "^### view_" DATABASE_VIEW_INTELLIGENCE_CATALOG.md | \
  sed 's/### //' | awk '{print $1}' | sort | uniq

# Compare and calculate coverage
comm -23 schema_views.txt documented_views.txt > missing_views.txt
```

### Validation Schedule

- **Automated**: Monthly via GitHub Actions (1st of each month at 02:00 UTC)
- **Manual**: Can be triggered via workflow_dispatch
- **On Changes**: Runs automatically when schema or documentation changes

---

## Changelog

| Date | Coverage | Missing Views | Status |
|------|----------|---------------|--------|
| 2025-11-21 | 10.98% | 73 | Initial validation |
| 2026-01-19 | 93.46% | 7 | ‚ö†Ô∏è In Progress |

---

**Report Status**: GENERATED  
**Generated By**: validate-view-documentation.sh  
**Next Validation**: 2026-02-01 02:00 UTC
