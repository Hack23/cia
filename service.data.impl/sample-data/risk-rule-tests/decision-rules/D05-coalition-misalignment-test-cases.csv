test_id,rule_id,rule_name,scenario_type,description,expected_salience,expected_severity,threshold_tested,test_data_reference,party_a,party_b,alignment_rate,analysis_window_days,decision_period,validation_query,notes
D05-TC001,D05,Coalition Decision Misalignment,BOUNDARY_CONDITION,Coalition alignment exactly 60% over 30 days (at threshold),80,MAJOR,MAJOR_THRESHOLD_80,TEST_D05_ALIGN_60,S,C,60.0,30,2024-12,"WITH coalition_parties AS (SELECT UNNEST(ARRAY['S', 'C']) AS party), aligned_decisions AS (SELECT pdf1.party AS party_a, pdf2.party AS party_b, pdf1.decision_month, CASE WHEN (pdf1.approved_decisions > pdf1.rejected_decisions AND pdf2.approved_decisions > pdf2.rejected_decisions) OR (pdf1.approved_decisions < pdf1.rejected_decisions AND pdf2.approved_decisions < pdf2.rejected_decisions) THEN 1 ELSE 0 END AS aligned FROM view_riksdagen_party_decision_flow pdf1 JOIN view_riksdagen_party_decision_flow pdf2 ON pdf1.committee = pdf2.committee AND pdf1.decision_month = pdf2.decision_month AND pdf1.party < pdf2.party WHERE pdf1.party IN (SELECT party FROM coalition_parties) AND pdf2.party IN (SELECT party FROM coalition_parties) AND pdf1.decision_month >= CURRENT_DATE - INTERVAL '30 days') SELECT party_a, party_b, COUNT(*) AS total_periods, SUM(aligned) AS aligned_periods, ROUND(100.0 * SUM(aligned) / COUNT(*), 2) AS alignment_rate FROM aligned_decisions GROUP BY party_a, party_b",Tests exact 60% threshold - should trigger MAJOR (80). Coalition partners struggling to align on decisions
D05-TC002,D05,Coalition Decision Misalignment,BOUNDARY_CONDITION,Coalition alignment 58% (just below threshold),80,MAJOR,BELOW_THRESHOLD,TEST_D05_ALIGN_58,M,KD,58.0,30,2024-12,"SELECT party_a, party_b, alignment_rate FROM coalition_alignment_analysis WHERE alignment_rate < 60 AND analysis_period = '30 days'",Just below 60% alignment (58%) should trigger MAJOR. Tests threshold precision
D05-TC003,D05,Coalition Decision Misalignment,TRUE_POSITIVE,Coalition partners with 35% alignment (severe misalignment),80,MAJOR,CRITICAL_MISALIGNMENT,TEST_D05_BREAKDOWN,S,MP,35.0,30,2024-12,"SELECT party_a, party_b, alignment_rate, COUNT(*) AS decision_periods FROM view_riksdagen_party_decision_flow_alignment WHERE alignment_rate < 40 GROUP BY party_a, party_b, alignment_rate",Severe misalignment (35%) signals coalition breakdown. Validates 78% coalition stress detection accuracy claim
D05-TC004,D05,Coalition Decision Misalignment,TRUE_NEGATIVE,Strong coalition with 85% alignment,0,NONE,NORMAL_BEHAVIOR,TEST_D05_STRONG,M,L,85.0,30,2024-12,"SELECT party_a, party_b, alignment_rate FROM coalition_alignment WHERE alignment_rate >= 80",High alignment (85%) should NOT trigger - validates strong coalition detection
D05-TC005,D05,Coalition Decision Misalignment,FALSE_POSITIVE,Coalition alignment 55% during budget negotiation (temporary),0,NONE,NEGOTIATION_PERIOD,TEST_D05_BUDGET,S,V,55.0,30,2024-10,"SELECT party_a, party_b, alignment_rate, decision_month FROM coalition_alignment WHERE decision_month IN (10, 11, 12) AND alignment_rate BETWEEN 50 AND 60",Temporary misalignment during budget negotiations may be normal strategic behavior. Potential false positive - requires context
D05-TC006,D05,Coalition Decision Misalignment,FALSE_NEGATIVE,Declining alignment from 75% to 62% over 6 months (slow deterioration),80,MAJOR,GRADUAL_DECLINE,TEST_D05_SLOW_DECLINE,C,MP,62.0,180,2024-12,"SELECT party_a, party_b, decision_month, alignment_rate FROM coalition_alignment WHERE decision_month >= '2024-07' ORDER BY decision_month",Gradual decline (75% → 62%) stays just above threshold while signaling trouble. False negative for slow deterioration
D05-TC007,D05,Coalition Decision Misalignment,MULTI_PARTY,Three-party coalition with pairwise alignments: 58%, 62%, 55%,80,MAJOR,COMPLEX_COALITION,TEST_D05_THREE_PARTY,S-C-V,Multiple,58.3,30,2024-12,"WITH coalition AS (SELECT UNNEST(ARRAY['S', 'C', 'V']) AS party), pairwise AS (SELECT p1.party AS party_a, p2.party AS party_b, alignment_rate FROM coalition p1 CROSS JOIN coalition p2 JOIN party_alignment pa ON p1.party = pa.party_a AND p2.party = pa.party_b WHERE p1.party < p2.party) SELECT AVG(alignment_rate) AS avg_coalition_alignment FROM pairwise",Three-party coalition with mixed pairwise alignments (average 58.3%). Should overall coalition stress be measured differently than two-party?
D05-TC008,D05,Coalition Decision Misalignment,TREND_ANALYSIS,Rapid decline: 75% → 68% → 62% → 58% over 4 months,80,MAJOR,ACCELERATING_DECLINE,TEST_D05_ACCELERATING,SD,KD,58.0,30,2024-12,"SELECT party_a, party_b, decision_month, alignment_rate, LAG(alignment_rate, 1) OVER (ORDER BY decision_month) AS prev_month FROM coalition_alignment WHERE party_a = 'SD' AND party_b = 'KD' ORDER BY decision_month DESC LIMIT 4",Accelerating decline (75% → 58%) reaching threshold in month 4. Trend severity more concerning than single low reading
D05-TC009,D05,Coalition Decision Misalignment,ISSUE_SPECIFIC,Coalition alignment 80% overall but 30% on foreign policy issues,50,MAJOR,DOMAIN_MISALIGNMENT,TEST_D05_ISSUE,M,C,30.0,30,2024-12,"SELECT party_a, party_b, policy_domain, alignment_rate FROM coalition_alignment_by_domain WHERE policy_domain = 'Foreign Policy' AND alignment_rate < 40",High overall alignment (80%) but severe misalignment on specific policy domains (foreign policy 30%). Domain-specific stress
D05-TC010,D05,Coalition Decision Misalignment,COMPARISON,Coalition alignment 58% vs historical average 72% (14% decline),80,MAJOR,HISTORICAL_DECLINE,TEST_D05_HISTORICAL,S,C,58.0,30,2024-12,"SELECT party_a, party_b, current_alignment, AVG(historical_alignment) OVER (PARTITION BY party_a, party_b) AS historical_avg, current_alignment - AVG(historical_alignment) OVER (PARTITION BY party_a, party_b) AS decline FROM coalition_alignment WHERE party_a = 'S' AND party_b = 'C'",Current 58% vs historical 72% (14 point decline) indicates deteriorating relationship. Historical comparison provides context
D05-TC011,D05,Coalition Decision Misalignment,GOVERNMENT_VS_OPPOSITION,Government coalition 55% vs opposition bloc 85% alignment,80,MAJOR,POWER_DYNAMIC,TEST_D05_GOV_VS_OPP,S-C,M-KD-SD,55.0-85.0,30,2024-12,"SELECT coalition_type, AVG(alignment_rate) AS avg_alignment FROM coalition_alignment GROUP BY coalition_type",Government coalition weaker (55%) than opposition bloc (85%). Opposition may exploit government division
D05-TC012,D05,Coalition Decision Misalignment,EDGE_CASE,Coalition formed <30 days ago (insufficient data),0,NONE,NEW_COALITION,TEST_D05_NEW,M,L,45.0,15,2024-12,"SELECT party_a, party_b, days_since_formation, alignment_rate FROM coalition_alignment WHERE days_since_formation < 30",New coalition with <30 days data may have low alignment during formation. Should first 60 days be excluded?
D05-TC013,D05,Coalition Decision Misalignment,SEASONAL,Coalition alignment 57% in July-August (summer recess period),0,NONE,SEASONAL_CONTEXT,TEST_D05_SUMMER,SD,KD,57.0,30,2024-07,"SELECT party_a, party_b, decision_month, alignment_rate FROM coalition_alignment WHERE EXTRACT(MONTH FROM decision_month) BETWEEN 6 AND 8",Summer recess period (July-August) has lower decision volume. Should seasonal patterns be considered in alignment calculation?
D05-TC014,D05,Coalition Decision Misalignment,MINORITY_GOVERNMENT,Minority government coalition 58% (tolerance agreement context),50,MAJOR,MINORITY_CONTEXT,TEST_D05_MINORITY,S-MP,C-L,58.0,30,2024-12,"SELECT coalition_type, party_a, party_b, alignment_rate FROM coalition_alignment WHERE coalition_type = 'MINORITY_GOVERNMENT'",Minority government relies on tolerance agreement. Lower alignment may be acceptable compared to majority coalition?
D05-TC015,D05,Coalition Decision Misalignment,RECOVERY,Coalition alignment recovering: 55% → 58% → 62% → 65% over 4 months,0,NONE,IMPROVING_TREND,TEST_D05_RECOVERY,M,C,65.0,30,2024-12,"SELECT party_a, party_b, decision_month, alignment_rate FROM coalition_alignment WHERE party_a = 'M' AND party_b = 'C' ORDER BY decision_month DESC LIMIT 4",Recovering alignment (55% → 65%) suggests issue resolution. Should improving trend cancel previous warnings?
