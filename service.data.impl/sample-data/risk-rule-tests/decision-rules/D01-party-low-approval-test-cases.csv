test_id,rule_id,rule_name,scenario_type,description,expected_salience,expected_severity,threshold_tested,test_data_reference,party_code,party_name,approval_rate,consecutive_months_low,decision_year,decision_month,validation_query,notes
D01-TC001,D01,Party Low Approval Rate,BOUNDARY_CONDITION,Party with exactly 30% approval rate for 3 months (at MODERATE threshold),60,MAJOR,MODERATE_THRESHOLD_60,TEST_D01_APPROVAL_30,TEST_PA01,Test Party Alpha,30.0,3,2024,12,"SELECT party, decision_year, decision_month, ROUND(AVG(approval_rate), 2) AS avg_approval_rate FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA01' GROUP BY party, decision_year, decision_month HAVING AVG(approval_rate) < 30","Tests exact 30% threshold for 3 consecutive months - should trigger MAJOR (60). Coalition party struggling to pass proposals"
D01-TC002,D01,Party Low Approval Rate,BOUNDARY_CONDITION,Party with 28% approval for 2 months then 32% (intermittent),0,NONE,NON_SUSTAINED,TEST_D01_INTERMITTENT,TEST_PA02,Test Party Beta,28.0,2,2024,12,"SELECT party, decision_year, decision_month, approval_rate, LAG(approval_rate, 1) OVER (PARTITION BY party ORDER BY decision_year, decision_month) AS prev_month_1, LAG(approval_rate, 2) OVER (PARTITION BY party ORDER BY decision_year, decision_month) AS prev_month_2 FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA02' ORDER BY decision_year DESC, decision_month DESC LIMIT 3","Requires 3 consecutive months <30% to trigger. Intermittent recovery should NOT trigger - validates sustained pattern requirement"
D01-TC003,D01,Party Low Approval Rate,TRUE_POSITIVE,Opposition party with 18% approval for 6 months,60,MAJOR,SUSTAINED_LOW,TEST_D01_MARGINALIZED,TEST_PA03,Test Party Opposition,18.0,6,2024,12,"SELECT party, COUNT(*) AS consecutive_months_below_30, AVG(approval_rate) AS avg_approval FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA03' AND approval_rate < 30 AND decision_year = 2024 GROUP BY party","Sustained low approval (18% for 6 months) indicates complete marginalization. Should trigger MAJOR (60) - validates opposition ineffectiveness detection"
D01-TC004,D01,Party Low Approval Rate,TRUE_NEGATIVE,Government party with 65% approval rate,0,NONE,NORMAL_BEHAVIOR,TEST_D01_GOVERNMENT,TEST_PA04,Test Party Government,65.0,0,2024,12,"SELECT party, decision_year, decision_month, approval_rate FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA04' AND approval_rate >= 60","High approval rate (65%) should NOT trigger - validates normal government party performance"
D01-TC005,D01,Party Low Approval Rate,FALSE_POSITIVE,Coalition party with 25% approval during policy negotiation,0,NONE,COALITION_NEGOTIATION,TEST_D01_NEGOTIATION,TEST_PA05,Test Party Coalition,25.0,3,2024,12,"SELECT party, decision_year, decision_month, approval_rate FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA05' AND decision_month BETWEEN 10 AND 12","Temporary low approval during coalition budget negotiations may be strategic blocking. Requires context - current rule may false positive (tuning needed)"
D01-TC006,D01,Party Low Approval Rate,FALSE_NEGATIVE,Party with 31% approval for 3 months (just above threshold),0,NONE,BORDERLINE_INEFFECTIVE,TEST_D01_BORDERLINE,TEST_PA06,Test Party Borderline,31.0,3,2024,12,"SELECT party, decision_year, decision_month, approval_rate FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA06' AND approval_rate BETWEEN 30 AND 35","Just above 30% threshold (31%) for 3 months masks legislative ineffectiveness. Rule misses borderline cases - consider lowering threshold to 35%?"
D01-TC007,D01,Party Low Approval Rate,BOUNDARY_CONDITION,Party declining from 45% to 28% over 3 months (trend),60,MAJOR,DECLINING_TREND,TEST_D01_DECLINING,TEST_PA07,Test Party Declining,28.0,1,2024,12,"SELECT party, decision_year, decision_month, approval_rate, LAG(approval_rate, 1) OVER (PARTITION BY party ORDER BY decision_year, decision_month) AS prev_rate, approval_rate - LAG(approval_rate, 1) OVER (PARTITION BY party ORDER BY decision_year, decision_month) AS rate_change FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA07' ORDER BY decision_year DESC, decision_month DESC LIMIT 3","Rapid decline (45% â†’ 28%) reaches threshold in month 3. Should trigger MAJOR (60) - tests declining trend detection"
D01-TC008,D01,Party Low Approval Rate,EDGE_CASE,New party with no historical data (first 3 months),0,NONE,NEW_PARTY,TEST_D01_NEW,TEST_PA08,Test Party New,25.0,3,2024,12,"SELECT party, COUNT(*) AS total_months, AVG(approval_rate) AS avg_approval FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA08' GROUP BY party","New party may have low approval initially while building reputation. Should rule exclude first 6 months for new parties? Edge case requiring consideration"
D01-TC009,D01,Party Low Approval Rate,COMPARISON,Party with 28% vs average 55% (27% below mean),60,MAJOR,PEER_COMPARISON,TEST_D01_OUTLIER,TEST_PA09,Test Party Outlier,28.0,4,2024,12,"SELECT p.party, p.approval_rate, AVG(a.approval_rate) OVER () AS system_avg, p.approval_rate - AVG(a.approval_rate) OVER () AS deviation FROM view_riksdagen_party_decision_flow p, view_riksdagen_party_decision_flow a WHERE p.party = 'TEST_PA09' AND p.decision_year = 2024 AND p.decision_month = 12","Significant deviation from system average (28% vs 55%) for 4 months. Validates comparative analysis - party is extreme outlier"
D01-TC010,D01,Party Low Approval Rate,MULTI_FACTOR,Low approval (25%) + high rejection (70%),80,MAJOR,COMBINED_METRICS,TEST_D01_COMBINED,TEST_PA10,Test Party Combined,25.0,3,2024,12,"SELECT party, decision_year, decision_month, approval_rate, rejection_rate, (approval_rate + rejection_rate) AS total_decided FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA10' AND decision_year = 2024 AND decision_month = 12","Low approval + high rejection indicates active parliamentary participation but complete marginalization. More severe than low approval alone?"
D01-TC011,D01,Party Low Approval Rate,SEASONAL,Party with 28% approval excluding summer recess (June-Aug),60,MAJOR,SEASONAL_EXCLUSION,TEST_D01_SEASONAL,TEST_PA11,Test Party Seasonal,28.0,3,2024,12,"SELECT party, decision_year, decision_month, approval_rate FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA11' AND decision_month NOT BETWEEN 6 AND 8 AND approval_rate < 30","Tests seasonal exclusion - should summer recess months be excluded from consecutive month calculation? Summer has lower activity volume"
D01-TC012,D01,Party Low Approval Rate,COALITION_CONTEXT,Coalition partner with 27% approval (government party),60,MAJOR,GOVERNMENT_CONTEXT,TEST_D01_COALITION_GOV,TEST_PA12,Test Party Coalition Gov,27.0,3,2024,12,"SELECT party, decision_year, decision_month, approval_rate, government_status FROM view_riksdagen_party_decision_flow WHERE party = 'TEST_PA12' AND government_status = 'GOVERNMENT'","Coalition government party with low approval signals severe coalition friction. More critical than opposition low approval - consider severity boost?"
