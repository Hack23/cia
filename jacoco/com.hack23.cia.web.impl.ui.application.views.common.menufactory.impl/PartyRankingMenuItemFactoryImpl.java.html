<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PartyRankingMenuItemFactoryImpl.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Citizen Intelligence Agency</a> &gt; <a href="index.source.html" class="el_package">com.hack23.cia.web.impl.ui.application.views.common.menufactory.impl</a> &gt; <span class="el_source">PartyRankingMenuItemFactoryImpl.java</span></div><h1>PartyRankingMenuItemFactoryImpl.java</h1><pre class="source lang-java linenums">/*
 * Copyright 2010-2024 James Pether SÃ¶rling
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 *  $Id$
 *  $HeadURL$
 */
package com.hack23.cia.web.impl.ui.application.views.common.menufactory.impl;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.hack23.cia.web.impl.ui.application.views.common.menufactory.api.ApplicationMenuItemFactory;
import com.hack23.cia.web.impl.ui.application.views.common.menufactory.api.PartyRankingMenuItemFactory;
import com.hack23.cia.web.impl.ui.application.views.common.pagelinks.api.PageModeMenuCommand;
import com.hack23.cia.web.impl.ui.application.views.common.rows.RowUtil;
import com.hack23.cia.web.impl.ui.application.views.common.viewnames.ChartIndicators;
import com.hack23.cia.web.impl.ui.application.views.common.viewnames.PageMode;
import com.hack23.cia.web.impl.ui.application.views.common.viewnames.UserViews;
import com.jarektoro.responsivelayout.ResponsiveRow;
import com.vaadin.icons.VaadinIcons;
import com.vaadin.ui.MenuBar;
import com.vaadin.ui.MenuBar.MenuItem;
import com.vaadin.ui.VerticalLayout;

/**
 * The Class PartyRankingMenuItemFactoryImpl.
 *
 * &lt;p&gt;
 * Responsible for creating and organizing party ranking menu items, charts, and
 * overview pages. Enhances user navigation to analyze party influence, roles,
 * and performance within EU, government, committees, and parliament. Leverages
 * VaadinIcons to visually communicate context and concise descriptions focusing
 * on political significance.
 * &lt;/p&gt;
 */
@Service
public final class PartyRankingMenuItemFactoryImpl extends AbstractMenuItemFactoryImpl implements PartyRankingMenuItemFactory {

    // Label constants
    private static final String PART_LEADERS_SCOREBOARD = &quot;Party leaders scoreboard&quot;;
    private static final String ALL_PARTIES_TOTAL_DAYS_SERVED_IN_PARLIAMENT = &quot;All parties total days served in parliament&quot;;
    private static final String CHART_BY_TOPIC_TEXT = &quot;Chart by topic&quot;;
    private static final String CURRENT_PARTIES_ACTIVE_IN_COMMITTEES_HEAD_COUNT = &quot;Current parties in committees&quot;;
    private static final String CURRENT_PARTIES_ACTIVE_IN_MINISTRIES_HEAD_COUNT_TEXT = &quot;Current parties in government&quot;;
    private static final String CURRENT_PARTIES_ACTIVE_IN_PARLIAMENT_HEAD_COUNT = &quot;Current parties in parliament&quot;;
    private static final String OVERVIEW_TEXT = &quot;Overview&quot;;
    private static final String PAGE_VISIT_HISTORY_TEXT = &quot;Page Visit History&quot;;
    private static final String PARTY_BY_TOTAL_MEMBERS_BASED_ON_ROLES_IN_DEPARTMENTS_COMMITTEES_AND_PARLIAMENT =
            &quot;Party by total members across EU/gov/committees/parliament&quot;;
    private static final String PARTY_RANKING = &quot;Party Ranking&quot;;
    private static final String TOTAL_MEMBERS = &quot;Total members&quot;;

    // Political analyst perspective descriptions (~50 chars)
    private static final String DESC_ALL_PARTIES_ROLES = &quot;All parties: influence across key institutions.&quot;;
    private static final String DESC_GOVERNMENT_HEADCOUNT = &quot;Governing parties: evaluating institutional strength.&quot;;
    private static final String DESC_COMMITTEES_HEADCOUNT = &quot;Committees: parties' agenda-setting influence.&quot;;
    private static final String DESC_PARLIAMENT_HEADCOUNT = &quot;Parliament: mapping party legislative leverage.&quot;;
    private static final String DESC_LEADERS_SCOREBOARD = &quot;Leaders: comparing party leadership impact.&quot;;
    private static final String DESC_DAYS_SERVED_PARLIAMENT = &quot;All parties: experience shaping policy timelines.&quot;;
    private static final String DESC_PAGE_VISIT_HISTORY = &quot;Visit history: tracking public engagement patterns.&quot;;

    // Page mode commands
<span class="fc" id="L75">    private static final PageModeMenuCommand COMMAND_CHARTS_ALL_PARTIES = new PageModeMenuCommand(UserViews.PARTY_RANKING_VIEW_NAME, PageMode.CHARTS, ChartIndicators.ALLPARTIES.toString());</span>
<span class="fc" id="L76">    private static final PageModeMenuCommand COMMAND_CHARTS_CURRENT_COMMITTEES = new PageModeMenuCommand(UserViews.PARTY_RANKING_VIEW_NAME, PageMode.CHARTS, ChartIndicators.CURRENTCOMMITTEES.toString());</span>
<span class="fc" id="L77">    private static final PageModeMenuCommand COMMAND_CHARTS_CURRENT_GOVERNMENT_PARTIES = new PageModeMenuCommand(UserViews.PARTY_RANKING_VIEW_NAME, PageMode.CHARTS, ChartIndicators.CURRENTGOVERMENTPARTIES.toString());</span>
<span class="fc" id="L78">    private static final PageModeMenuCommand COMMAND_CHARTS_CURRENT_PARTIES = new PageModeMenuCommand(UserViews.PARTY_RANKING_VIEW_NAME, PageMode.CHARTS, ChartIndicators.CURRENTPARTIES.toString());</span>
<span class="fc" id="L79">    private static final PageModeMenuCommand COMMAND_CHARTS_CURRENT_PARTIES_LEADER_SCOREBOARD = new PageModeMenuCommand(UserViews.PARTY_RANKING_VIEW_NAME, PageMode.CHARTS, ChartIndicators.CURRENTPARTYLEADERSCORECARD.toString());</span>
<span class="fc" id="L80">    private static final PageModeMenuCommand COMMAND_DATAGRID = new PageModeMenuCommand(UserViews.PARTY_RANKING_VIEW_NAME, PageMode.DATAGRID);</span>
<span class="fc" id="L81">    private static final PageModeMenuCommand COMMAND_OVERVIEW = new PageModeMenuCommand(UserViews.PARTY_RANKING_VIEW_NAME, PageMode.OVERVIEW);</span>
<span class="fc" id="L82">    private static final PageModeMenuCommand COMMAND_PAGEVISITHISTORY = new PageModeMenuCommand(UserViews.PARTY_RANKING_VIEW_NAME, PageMode.PAGEVISITHISTORY);</span>

    /** Application menu item factory for integrating ranking menus. */
    @Autowired
    private ApplicationMenuItemFactory applicationMenuItemFactory;

    /**
     * Instantiates a new party ranking menu item factory implementation.
     */
    public PartyRankingMenuItemFactoryImpl() {
<span class="fc" id="L92">        super();</span>
<span class="fc" id="L93">    }</span>

    /**
     * Creates the overview page with concise, politically focused descriptions.
     * Each button link is accompanied by ~50 character descriptions highlighting
     * political context rather than technical details.
     *
     * @param panelContent the vertical layout to hold the overview content
     */
    @Override
    public void createOverviewPage(final VerticalLayout panelContent) {
<span class="fc" id="L104">        final ResponsiveRow grid = RowUtil.createGridLayout(panelContent);</span>

<span class="fc" id="L106">        createButtonLink(grid, PART_LEADERS_SCOREBOARD, VaadinIcons.TROPHY,</span>
                COMMAND_CHARTS_CURRENT_PARTIES_LEADER_SCOREBOARD, DESC_LEADERS_SCOREBOARD);

<span class="fc" id="L109">        createButtonLink(grid, TOTAL_MEMBERS, VaadinIcons.USERS,</span>
                COMMAND_DATAGRID, DESC_ALL_PARTIES_ROLES);

<span class="fc" id="L112">        createButtonLink(grid, CURRENT_PARTIES_ACTIVE_IN_MINISTRIES_HEAD_COUNT_TEXT, VaadinIcons.INSTITUTION,</span>
                COMMAND_CHARTS_CURRENT_GOVERNMENT_PARTIES, DESC_GOVERNMENT_HEADCOUNT);

<span class="fc" id="L115">        createButtonLink(grid, CURRENT_PARTIES_ACTIVE_IN_COMMITTEES_HEAD_COUNT, VaadinIcons.GROUP,</span>
                COMMAND_CHARTS_CURRENT_COMMITTEES, DESC_COMMITTEES_HEADCOUNT);

<span class="fc" id="L118">        createButtonLink(grid, CURRENT_PARTIES_ACTIVE_IN_PARLIAMENT_HEAD_COUNT, VaadinIcons.INSTITUTION,</span>
                COMMAND_CHARTS_CURRENT_PARTIES, DESC_PARLIAMENT_HEADCOUNT);


<span class="fc" id="L122">        createButtonLink(grid, ALL_PARTIES_TOTAL_DAYS_SERVED_IN_PARLIAMENT, VaadinIcons.CLOCK,</span>
                COMMAND_CHARTS_ALL_PARTIES, DESC_DAYS_SERVED_PARLIAMENT);

<span class="fc" id="L125">        createButtonLink(grid, PAGE_VISIT_HISTORY_TEXT, VaadinIcons.CHART,</span>
                COMMAND_PAGEVISITHISTORY, DESC_PAGE_VISIT_HISTORY);
<span class="fc" id="L127">    }</span>

    /**
     * Creates the party ranking menu bar and integrates it into the main application
     * menu. Ensures consistent icon usage and logical grouping of party ranking
     * topics.
     *
     * @param menuBar the main menu bar to which the party ranking items will be added
     */
    @Override
    public void createPartyRankingMenuBar(final MenuBar menuBar) {
<span class="fc" id="L138">        initApplicationMenuBar(menuBar);</span>
<span class="fc" id="L139">        applicationMenuItemFactory.addRankingMenu(menuBar);</span>

        // Suitable icon (e.g., LINE_CHART) for ranking visualization
<span class="fc" id="L142">        createPartyRankingTopics(menuBar.addItem(PARTY_RANKING, VaadinIcons.LINE_CHART, null));</span>
<span class="fc" id="L143">    }</span>

    /**
     * Adds party ranking topics to the specified menu item. Uses icons that reflect
     * the content context, such as charts for data visualization, groups or
     * institutions for organizational structures, and history for past activity.
     *
     * @param partynMenuItem the parent menu item to which party ranking topics are added
     */
    @Override
    public void createPartyRankingTopics(final MenuItem partynMenuItem) {
<span class="fc" id="L154">        partynMenuItem.addItem(OVERVIEW_TEXT, VaadinIcons.DASHBOARD, COMMAND_OVERVIEW);</span>

<span class="fc" id="L156">        partynMenuItem.addItem(PART_LEADERS_SCOREBOARD, VaadinIcons.TROPHY,COMMAND_CHARTS_CURRENT_PARTIES_LEADER_SCOREBOARD);</span>

        // Total members using USERS icon for multiple people
<span class="fc" id="L159">        final MenuItem listItem = partynMenuItem.addItem(TOTAL_MEMBERS, VaadinIcons.USERS, COMMAND_DATAGRID);</span>
<span class="fc" id="L160">        listItem.setDescription(PARTY_BY_TOTAL_MEMBERS_BASED_ON_ROLES_IN_DEPARTMENTS_COMMITTEES_AND_PARLIAMENT);</span>

<span class="fc" id="L162">        final MenuItem chartByTopic = partynMenuItem.addItem(CHART_BY_TOPIC_TEXT, VaadinIcons.CHART, null);</span>

<span class="fc" id="L164">        chartByTopic.addItem(CURRENT_PARTIES_ACTIVE_IN_MINISTRIES_HEAD_COUNT_TEXT, VaadinIcons.INSTITUTION,</span>
                COMMAND_CHARTS_CURRENT_GOVERNMENT_PARTIES);

<span class="fc" id="L167">        chartByTopic.addItem(CURRENT_PARTIES_ACTIVE_IN_COMMITTEES_HEAD_COUNT, VaadinIcons.GROUP,</span>
                COMMAND_CHARTS_CURRENT_COMMITTEES);

<span class="fc" id="L170">        chartByTopic.addItem(CURRENT_PARTIES_ACTIVE_IN_PARLIAMENT_HEAD_COUNT, VaadinIcons.INSTITUTION,</span>
                COMMAND_CHARTS_CURRENT_PARTIES);

<span class="fc" id="L173">        chartByTopic.addItem(ALL_PARTIES_TOTAL_DAYS_SERVED_IN_PARLIAMENT, VaadinIcons.CLOCK,</span>
                COMMAND_CHARTS_ALL_PARTIES);

<span class="fc" id="L176">        partynMenuItem.addItem(PAGE_VISIT_HISTORY_TEXT, VaadinIcons.CHART, COMMAND_PAGEVISITHISTORY);</span>
<span class="fc" id="L177">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>